{% extends "base.html" %}
{% load mybudget_extras %}
{% load bootstrap3 humanize i18n %}

{% block content %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>

<script type="text/javascript">
    jQuery(document).ready(function( $ ) {
        new Morris.Bar({
            // ID of the element in which to draw the chart.
            element: 'graph',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data: [
                { year: '2008-01-01', value1: 20, value2: 2 },
                { year: '2009-01-01', value1: 10, value2: 10 },
                { year: '2010-01-01', value1: 5, value2: 5 },
                { year: '2011-01-01', value1: 5, value2: 5 },
                { year: '2012-01-01', value1: 20, value2: 20 }
            ],
           
            //xLabelFormat: function(d) {
            //    return d.getDate()+'.'+(d.getMonth()+1)+'.'+d.getFullYear(); 
            //},
           
            postUnits: ' â‚¬',
           
            events: [ '2009-01-01' ],
            eventStrokeWidth: 10.0,
            eventLineColors: ['#005a04', '#ccffbb', '#3a5f0b', '#005502'],
           
            barColors: ['#428bca', '#5cb85c', '#5bc0de', '#f0ad4e', '#d9534f'],
            stacked: true,
            // The name of the data record attribute that contains x-values.
            xkey: 'year',
            // A list of names of data record attributes that contain y-values.
            ykeys: ['value1', 'value2'],
            // Labels for the ykeys -- will be displayed when you hover over the
            // chart.
            labels: ['Judith', 'Dennis']
        }).on('click', function(i, row){
            console.log(i, row);
        });
    });
</script>

<h2>{% trans "Expenses for month" %} {{ month|date:"M  Y" }}</h1>
<div id="graph" style="height: 250px;"></div>


<nav>
    <ul class="pager">
        <li class="previous">
            <a href="{% url "expense_archive_month" year=previous_month.year month=previous_month|date:"m" %}">
                <span aria-hidden="true">&larr;</span> Previous month
            </a>
        </li>
        <li class="next">
            <a href="{% url "expense_archive_month" year=next_month.year month=next_month|date:"m" %}">
                Next month<span aria-hidden="true">&rarr;</span>
            </a>
        </li>
    </ul>
</nav>

{% include 'mybudget/_list_expenses.html' with expenses_list=object_list %}

{% endblock %}
